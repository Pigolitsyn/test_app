<ng-template #content let-modal>

  <form (ngSubmit)="onSubmit()" [formGroup]="employeeForm">

    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel">Новый сотрудник</h5>
      <button aria-label="Close" class="btn-close" (click)="modal.dismiss()" data-bs-dismiss="modal" type="button"></button>
    </div>

    <div class="modal-body">

      <div class="mb-3">
        <label class="form-label" for="fullName">
          Полное имя
        </label>
        <input class="form-control mb-2" formControlName="fullName" id="fullName" type="text" required>
        
        <div *ngIf="fullName?.invalid && (fullName?.dirty || fullName?.touched)" class="alert alert-danger mb-3">
          Имя обязательно
        </div>

      </div>

      <div class="mb-3">
        <label class="form-label" for="department">
          Отдел
        </label>
        <input class="form-control mb-2" formControlName="department" id="department" type="text" required>

        <div *ngIf="department?.invalid && (department?.dirty || department?.touched)" class="alert alert-danger mb-3">
          Отдел обязательно
        </div>

      </div>

      <div class="mb-3">
        <label class="form-label">
          Дата рождения
        </label>

        <div class="input-group">

          <input #d="ngbDatepicker" class="form-control" formControlName="birthDate"
                 name="birthDatePicker" ngbDatepicker placeholder="год-месяц-число" required>
          <button (click)="d.toggle()" class="btn btn-outline-secondary calendar" type="button"></button>
        </div>

      </div>

      <div class="mb-3">
        <label class="form-label">
          Дата найма
        </label>

        <div class="input-group">
          <input #s="ngbDatepicker" class="form-control" formControlName="hireDate"
                 name="hireDatePicker" ngbDatepicker placeholder="год-месяц-число" required>
          <button (click)="s.toggle()" class="btn btn-outline-secondary calendar" type="button"></button>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label" for="salary">
          Доход
        </label>
        <input class="form-control mb-2" formControlName="salary" id="salary" type="text" required>
        <div *ngIf="salary?.invalid && (salary?.dirty || salary?.touched)" class="alert alert-danger mb-3">
          Доход обязетелен
        </div>
      </div>


    </div>

    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Закрыть</button>
      <button [disabled]="(employeeForm.status != 'VALID')" class="btn btn-primary" type="submit" (click)="modal.close()">Сохранить изменения</button>
    </div>

  </form>

</ng-template>

<button type="button" class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="open(content)">
  Добавить сотрудника
</button>
